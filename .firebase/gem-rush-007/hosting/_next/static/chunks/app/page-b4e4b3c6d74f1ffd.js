(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1975:(e,t,n)=>{Promise.resolve().then(n.bind(n,8152))},8152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(5155),a=n(2115),o=n(9904),s=n(4565),i=n(6553);let c=(0,o.Dk)().length?(0,o.Dk)()[0]:(0,o.Wp)({apiKey:"AIzaSyBG2EnnZXgSKQg55d_Z-2OADtUdbF5e6Ik",authDomain:"gem-rush-007.firebaseapp.com",projectId:"gem-rush-007",storageBucket:"gem-rush-007.firebasestorage.app",messagingSenderId:"1011675918473",appId:"1:1011675918473:web:f7056f6de83f2a4f8b9658",measurementId:"G-KGTSSJKWFL"}),l=(0,s.xI)(c),h=(0,i.P5)(c);function d(){let[e,t]=(0,a.useState)(!0),[n,o]=(0,a.useState)(null),c="https://mlb-1011675918473.us-central1.run.app";(0,a.useEffect)(()=>{let e=(0,s.hg)(l,async e=>{if(e)try{let t=await e.getIdToken();if(!(await fetch("".concat(c,"/?token=").concat(encodeURIComponent(t)),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}})).ok)throw Error("Failed to authenticate with the server");window.location.href="".concat(c,"/?token=").concat(encodeURIComponent(t))}catch(e){o("Authentication failed with the server"),console.error("Server authentication error:",e)}t(!1)});return()=>e()},[]);let d=async()=>{try{t(!0),o(null),h&&(0,i.$s)(h,"login_attempt"),new s.HF().addScope("https://www.googleapis.com/auth/userinfo.email"),h&&(0,i.$s)(h,"login_success",{method:"google"})}catch(e){h&&(0,i.$s)(h,"login_error",{error_message:e instanceof Error?e.message:"Unknown error"}),o("Sign in failed. Please try again."),console.error("Sign in error:",e)}finally{t(!1)}};return(0,r.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Welcome to the MLB App"}),n&&(0,r.jsx)("div",{className:"text-red-500 mb-4",children:n}),(0,r.jsx)("button",{onClick:d,disabled:e,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:e?"Loading...":"Sign In with Google"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[782,691,441,517,358],()=>t(1975)),_N_E=e.O()}]);